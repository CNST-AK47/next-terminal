"use strict";(self.webpackChunknext_terminal=self.webpackChunknext_terminal||[]).push([[5017],{58374:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(74165),a=t(15861),c=t(43144),i=t(15671),s=t(96675),u=t(74776),o=t.n(u),d=(0,c.Z)((function e(n){var t=this;(0,i.Z)(this,e),this.group="",this.getById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/".concat(t.group,"/").concat(n));case 2:if(1===(a=e.sent).code){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getPaging=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o().stringify(n),e.next=3,s.Z.get("/".concat(t.group,"/paging?").concat(a));case 3:if(1===(c=e.sent).code){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getAll=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/".concat(t.group));case 2:if(1===(n=e.sent).code){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)}))),this.create=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("/".concat(t.group),n);case 2:return a=e.sent,e.abrupt("return",1===a.code);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.updateById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.put("/".concat(t.group,"/").concat(n),a);case 2:return c=e.sent,e.abrupt("return",1===c.code);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.deleteById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.delete("/".concat(t.group,"/").concat(n));case 2:return a=e.sent,e.abrupt("return",1===a.code);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.group=n}))},66530:function(e,n,t){var r=t(74165),a=t(15861),c=t(43144),i=t(15671),s=t(60136),u=t(27277),o=t(58374),d=t(96675),l=function(e){(0,s.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;return(0,i.Z)(this,t),(e=n.call(this,"assets")).GetAll=(0,a.Z)((0,r.Z)().mark((function n(){var t,a,c=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n.next=3,d.Z.get("/".concat(e.group,"?protocol=").concat(t));case 3:if(1===(a=n.sent).code){n.next=6;break}return n.abrupt("return",[]);case 6:return n.abrupt("return",a.data);case 7:case"end":return n.stop()}}),n)}))),e.connTest=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.post("/".concat(e.group,"/").concat(t,"/tcping"));case 2:if(1===(a=n.sent).code){n.next=5;break}return n.abrupt("return",[!1,a.message]);case 5:return n.abrupt("return",[a.data.active,a.data.message]);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.importAsset=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=new FormData).append("file",t),n.next=4,d.Z.post("/".concat(e.group,"/import"),a,{"Content-Type":"multipart/form-data"});case 4:if(1===(c=n.sent).code){n.next=7;break}return n.abrupt("return",[!1,c.message]);case 7:return n.abrupt("return",[!0,c.data]);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.changeOwner=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){var c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.post("/".concat(e.group,"/").concat(t,"/change-owner?owner=").concat(a));case 2:return c=n.sent,n.abrupt("return",1===c.code);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e}return(0,c.Z)(t)}(o.Z),f=new l;n.Z=f},23593:function(e,n,t){var r=t(74165),a=t(15861),c=t(43144),i=t(15671),s=t(60136),u=t(27277),o=t(58374),d=t(96675),l=function(e){(0,s.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;return(0,i.Z)(this,t),(e=n.call(this,"commands")).changeOwner=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){var c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.post("/".concat(e.group,"/").concat(t,"/change-owner?owner=").concat(a));case 2:return c=n.sent,n.abrupt("return",1===c.code);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e}return(0,c.Z)(t)}(o.Z),f=new l;n.Z=f},82701:function(e,n,t){var r=t(74165),a=t(15861),c=t(43144),i=t(15671),s=t(96675),u=new((0,c.Z)((function e(){(0,i.Z)(this,e),this.getAll=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/tags");case 2:if(1===(n=e.sent).code){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})))})));n.Z=u},27777:function(e,n,t){var r=t(74165),a=t(15861),c=t(43144),i=t(15671),s=t(60136),u=t(27277),o=t(58374),d=t(96675),l=function(e){(0,s.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;return(0,i.Z)(this,t),(e=n.call(this,"users")).resetTotp=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.post("/".concat(e.group,"/").concat(t,"/reset-totp"));case 2:return a=n.sent,n.abrupt("return",1===a.code);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.changePassword=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){var c,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(c=new FormData).set("password",a),n.next=4,d.Z.post("/".concat(e.group,"/").concat(t,"/change-password"),c);case 4:return i=n.sent,n.abrupt("return",1===i.code);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e.changeStatus=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){var c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.patch("/".concat(e.group,"/").concat(t,"/status?status=").concat(a));case 2:return c=n.sent,n.abrupt("return",1!==c.code);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e}return(0,c.Z)(t)}(o.Z),f=new l;n.Z=f},93426:function(e,n,t){var r=t(43144),a=t(15671),c=t(60136),i=t(27277),s=new(function(e){(0,c.Z)(t,e);var n=(0,i.Z)(t);function t(){return(0,a.Z)(this,t),n.call(this,"worker/commands")}return(0,r.Z)(t)}(t(58374).Z));n.Z=s},9388:function(e,n,t){t.d(n,{f:function(){return r}});var r={rdp:"cyan",ssh:"blue",telnet:"geekblue",vnc:"purple",kubernetes:"volcano"}},12362:function(e,n,t){var r=t(74165),a=t(15861),c=t(29439),i=t(47313),s=t(40056),u=t(27777),o=t(96296),d=t(72652),l=t(74294),f=t(46417);n.Z=function(e){var n,t=e.lastOwner,p=e.open,h=e.handleOk,Z=e.handleCancel,v=(0,i.useState)(!1),x=(0,c.Z)(v,2),m=x[0],g=x[1],w=(0,i.useState)(t),k=(0,c.Z)(w,2),y=k[0],b=k[1],j=(0,s.useQuery)("usersQuery",u.Z.getAll,{enabled:p});return(0,f.jsx)("div",{children:(0,f.jsx)(o.Z,{title:"\u66f4\u6362\u6240\u6709\u8005",confirmLoading:m,open:p,onOk:(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,h(y);case 3:g(!1);case 4:case"end":return e.stop()}}),e)}))),onCancel:Z,destroyOnClose:!0,children:(0,f.jsx)(d.Z,{spinning:j.isLoading,children:(0,f.jsx)(l.Z,{defaultValue:t,style:{width:"100%"},onChange:function(e){b(e)},children:null===(n=j.data)||void 0===n?void 0:n.map((function(e){return(0,f.jsx)(l.Z.Option,{value:e.id,children:e.nickname},e.id)}))})})})})}},25017:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(74165),a=t(15861),c=t(29439),i=t(47313),s=t(15508),u=t(5900),o=t(59491),d=t(55291),l=t(53469),f=t(23593),p=t(66199),h=t(44925),Z=t(81572),v=t(57325),x=t(66204),m=t(74294),g=t(41068),w=t(96296),k=t(23813),y=t(45705),b=t(9388),j=(t(96216),t(10658)),S=t.n(j),O=t(66530),I=t(99925),C=t(40056),E=t(82701),T=t(46417),N=["type","defaultRender"],A=["type","defaultRender"],R=Z.Z.Title,L=i.createRef(),F=function(e){var n=e.visible,t=e.handleOk,s=e.handleCancel,u=(e.confirmLoading,e.id,(0,i.useState)([])),o=(0,c.Z)(u,2),d=o[0],f=o[1],p=(0,C.useQuery)("getAllTag",E.Z.getAll),Z=[{title:"\u8d44\u4ea7\u540d\u79f0",dataIndex:"name",key:"name",render:function(e,n){var t=e;return t&&t.length>20&&(t=t.substring(0,20)+" ..."),(0,T.jsx)(v.Z,{placement:"topLeft",title:e,children:t})}},{title:"\u8fde\u63a5\u534f\u8bae",dataIndex:"protocol",key:"protocol",render:function(e,n){var t="".concat(n.ip+":"+n.port);return(0,T.jsx)(v.Z,{title:t,children:(0,T.jsx)(x.Z,{color:b.f[e],children:e})})}},{title:"\u6807\u7b7e",dataIndex:"tags",key:"tags",render:function(e){if(I.Z.hasText(e))return e.split(",").filter((function(e){return"-"!==e})).map((function(e){return(0,T.jsx)(x.Z,{children:e},e)}))},renderFormItem:function(e,n,t){var r,a=n.type;n.defaultRender,(0,h.Z)(n,N);return"form"===a?null:(0,T.jsx)(m.Z,{mode:"multiple",allowClear:!0,children:null===(r=p.data)||void 0===r?void 0:r.map((function(e){if("-"!==e)return(0,T.jsx)(m.Z.Option,{children:e},e)}))})}},{title:"\u72b6\u6001",dataIndex:"active",key:"active",render:function(e){return e?(0,T.jsx)(v.Z,{title:"\u8fd0\u884c\u4e2d",children:(0,T.jsx)(g.Z,{status:"processing",text:"\u8fd0\u884c\u4e2d"})}):(0,T.jsx)(v.Z,{title:"\u4e0d\u53ef\u7528",children:(0,T.jsx)(g.Z,{status:"error",text:"\u4e0d\u53ef\u7528"})})},renderFormItem:function(e,n,t){var r=n.type;n.defaultRender,(0,h.Z)(n,A);return"form"===r?null:(0,T.jsxs)(m.Z,{children:[(0,T.jsx)(m.Z.Option,{value:"true",children:"\u8fd0\u884c\u4e2d"}),(0,T.jsx)(m.Z.Option,{value:"false",children:"\u4e0d\u53ef\u7528"})]})}},{title:"\u6240\u6709\u8005",dataIndex:"ownerName",key:"ownerName",hideInSearch:!0},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created",key:"created",hideInSearch:!0,render:function(e,n){return(0,T.jsx)(v.Z,{title:e,children:S()(e).fromNow()})}}];return(0,T.jsx)("div",{children:(0,T.jsxs)(w.Z,{title:"\u9009\u62e9\u8d44\u4ea7",visible:n,width:.8*window.innerWidth,centered:!0,onOk:function(){t(d)},onCancel:s,children:[(0,T.jsxs)("div",{style:{paddingLeft:24,paddingRight:24},children:[(0,T.jsx)(R,{level:5,children:"\u5f85\u6267\u884c\u8d44\u4ea7\u5217\u8868"}),(0,T.jsx)("div",{children:d.map((function(e){return(0,T.jsx)(x.Z,{color:b.f[e.protocol],closable:!0,onClose:function(){return function(e){var n=d.filter((function(n){return n.id!==e}));f(n.slice())}(e.id)},children:e.name},e.id)}))})]}),(0,T.jsx)(l.Z,{columns:Z,actionRef:L,rowSelection:{selections:[k.Z.SELECTION_ALL,k.Z.SELECTION_INVERT]},tableAlertRender:function(e){var n=e.selectedRowKeys,t=e.selectedRows;e.onCleanSelected;return(0,T.jsxs)(y.Z,{size:24,children:[(0,T.jsxs)("span",{children:["\u5df2\u9009 ",n.length," \u9879"]}),(0,T.jsx)("span",{children:(0,T.jsx)("a",{onClick:function(){return function(e){e.forEach((function(e){!1===d.some((function(n){return n.id===e.id}))&&d.push(e)})),f(d.slice())}(t)},children:"\u52a0\u5165\u5f85\u6267\u884c\u5217\u8868"})}),(0,T.jsx)("span",{children:(0,T.jsx)("a",{onClick:function(){return function(e){e.forEach((function(e){d=d.filter((function(n){return n.id!==e.id}))})),f(d.slice())}(t)},children:"\u4ece\u5f85\u6267\u884c\u5217\u8868\u79fb\u9664"})})]})},request:(0,a.Z)((0,r.Z)().mark((function e(){var n,t,a,c,i,s,u,o=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},a=o.length>1?o[1]:void 0,o.length>2?o[2]:void 0,c="",i="",Object.keys(a).length>0&&(c=Object.keys(a)[0],i=Object.values(a)[0]),s={pageIndex:t.current,pageSize:t.pageSize,name:t.name,protocol:"ssh",active:t.active,tags:null===(n=t.tags)||void 0===n?void 0:n.join(","),field:c,order:i},e.next=9,O.Z.getPaging(s);case 9:return u=e.sent,e.abrupt("return",{data:u.items,success:!0,total:u.total});case 11:case"end":return e.stop()}}),e)}))),rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:5},dateFormatter:"string",headerTitle:"\u8d44\u4ea7\u5217\u8868"})]})})},_=t(88928),G=t(87591),B=t(12362),P=s.Z.Content,z=f.Z,D=i.createRef(),M=function(){var e=(0,i.useState)(!1),n=(0,c.Z)(e,2),t=n[0],s=n[1],f=(0,i.useState)(!1),h=(0,c.Z)(f,2),Z=h[0],v=h[1],x=(0,i.useState)(!1),m=(0,c.Z)(x,2),g=m[0],w=m[1],k=(0,i.useState)(void 0),y=(0,c.Z)(k,2),b=y[0],j=y[1],S=(0,_.T)(_.Z.CREDENTIAL),O=(0,c.Z)(S,2),I=O[0],C=O[1],E=(0,i.useState)(void 0),N=(0,c.Z)(E,2),A=N[0],R=N[1],L=(0,i.useState)(!1),M=(0,c.Z)(L,2),W=M[0],Y=M[1],q=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u5185\u5bb9",dataIndex:"content",key:"content",copyable:!0,ellipsis:!0},{title:"\u6240\u6709\u8005",dataIndex:"ownerName",key:"ownerName",hideInSearch:!0},{title:"\u521b\u5efa\u65f6\u95f4",key:"created",dataIndex:"created",hideInSearch:!0},{title:"\u64cd\u4f5c",valueType:"option",key:"option",render:function(e,n,t,c){return[(0,T.jsx)(G.Z,{menu:"command-exec",children:(0,T.jsx)("a",{onClick:function(){s(!0),j(n.id)},children:"\u6267\u884c"},"run")},"command-exec"),(0,T.jsx)(G.Z,{menu:"command-edit",children:(0,T.jsx)("a",{onClick:function(){v(!0),j(n.id)},children:"\u7f16\u8f91"},"edit")},"command-edit"),(0,T.jsx)(G.Z,{menu:"command-change-owner",children:(0,T.jsx)("a",{onClick:function(){J(n)},children:"\u66f4\u6362\u6240\u6709\u8005"},"change-owner")},"command-change-owner"),(0,T.jsx)(G.Z,{menu:"command-del",children:(0,T.jsx)(u.Z,{title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664\u6b64\u884c\u5417?",onConfirm:(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.deleteById(n.id);case 2:D.current.reload();case 3:case"end":return e.stop()}}),e)}))),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:(0,T.jsx)("a",{className:"danger",children:"\u5220\u9664"},"delete")},"confirm-delete")},"command-del")]}}],J=function(e){R(e),Y(!0)};return(0,T.jsxs)(P,{className:"page-container",children:[(0,T.jsx)(l.Z,{columns:q,actionRef:D,columnsState:{value:I,onChange:C},request:(0,a.Z)((0,r.Z)().mark((function e(){var n,t,a,c,i,s,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},t=u.length>1?u[1]:void 0,u.length>2?u[2]:void 0,a="",c="",Object.keys(t).length>0&&(a=Object.keys(t)[0],c=Object.values(t)[0]),i={pageIndex:n.current,pageSize:n.pageSize,name:n.name,field:a,order:c},e.next=9,z.getPaging(i);case 9:return s=e.sent,e.abrupt("return",{data:s.items,success:!0,total:s.total});case 11:case"end":return e.stop()}}),e)}))),rowKey:"id",search:{labelWidth:"auto"},pagination:{defaultPageSize:10},dateFormatter:"string",headerTitle:"\u52a8\u6001\u6307\u4ee4\u5217\u8868",toolBarRender:function(){return[(0,T.jsx)(G.Z,{menu:"command-add",children:(0,T.jsx)(o.Z,{type:"primary",onClick:function(){v(!0)},children:"\u65b0\u5efa"},"button")})]}}),(0,T.jsx)(p.Z,{id:b,visible:Z,confirmLoading:g,handleCancel:function(){v(!1),j(void 0)},handleOk:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),e.prev=1,!n.id){e.next=8;break}return e.next=5,z.updateById(n.id,n);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,z.create(n);case 10:t=e.sent;case 11:t&&v(!1),D.current.reload();case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,,13,16]])})));return function(n){return e.apply(this,arguments)}}()}),(0,T.jsx)(F,{visible:t,handleCancel:function(){s(!1),j(void 0)},handleOk:function(e){if(0!==e.length){var n=e.map((function(e){return{id:e.id,name:e.name}}));window.location.href="#/execute-command?commandId="+b+"&assets="+JSON.stringify(n)}else d.ZP.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u8d44\u4ea7")}}),(0,T.jsx)(B.Z,{lastOwner:null===A||void 0===A?void 0:A.owner,open:W,handleOk:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.changeOwner(null===A||void 0===A?void 0:A.id,n);case 2:e.sent&&(Y(!1),D.current.reload());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),handleCancel:function(){Y(!1)}})]})}},66199:function(e,n,t){var r=t(1413),a=t(74165),c=t(15861),i=t(29439),s=t(47313),u=t(66672),o=t(12008),d=t(96296),l=t(23593),f=t(93426),p=t(46417),h=l.Z,Z=u.Z.TextArea;n.Z=function(e){var n=e.visible,t=e.handleOk,l=e.handleCancel,v=e.confirmLoading,x=e.id,m=e.worker,g=o.Z.useForm(),w=(0,i.Z)(g,1)[0];return(0,s.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==m){e.next=6;break}return e.next=3,f.Z.getById(x);case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,h.getById(x);case 8:n=e.sent;case 9:n&&w.setFieldsValue(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n?x?e():w.setFieldsValue({}):w.resetFields()}),[n]),(0,p.jsx)(d.Z,{title:x?"\u66f4\u65b0\u52a8\u6001\u6307\u4ee4":"\u65b0\u5efa\u52a8\u6001\u6307\u4ee4",visible:n,maskClosable:!1,destroyOnClose:!0,onOk:function(){w.validateFields().then(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:e.sent&&w.resetFields();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},onCancel:function(){w.resetFields(),l()},confirmLoading:v,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,p.jsxs)(o.Z,(0,r.Z)((0,r.Z)({form:w},{labelCol:{span:6},wrapperCol:{span:14}}),{},{children:[(0,p.jsx)(o.Z.Item,{name:"id",noStyle:!0,children:(0,p.jsx)(u.Z,{hidden:!0})}),(0,p.jsx)(o.Z.Item,{label:"\u6307\u4ee4\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4\u540d\u79f0"}],children:(0,p.jsx)(u.Z,{placeholder:"\u8bf7\u8f93\u5165\u6307\u4ee4\u540d\u79f0"})}),(0,p.jsx)(o.Z.Item,{label:"\u6307\u4ee4\u5185\u5bb9",name:"content",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4\u5185\u5bb9"}],children:(0,p.jsx)(Z,{autoSize:{minRows:5,maxRows:10},placeholder:"\u4e00\u884c\u4e00\u4e2a\u6307\u4ee4"})})]}))})}},87591:function(e,n,t){var r=t(93433),a=t(15253);n.Z=function(e){var n=e.menu,t=e.children;if(Array.isArray(n)){if(a.c1.apply(void 0,(0,r.Z)(n)))return t}else if((0,a.c1)(n))return t}},88928:function(e,n,t){t.d(n,{T:function(){return o}});var r=t(29439),a=t(43144),c=t(15671),i=t(99925),s=t(47313),u=new((0,a.Z)((function e(){(0,c.Z)(this,e),this.ASSET="cs-asset",this.CREDENTIAL="cs-credential",this.COMMAND="cs-command",this.ACCESS_GATEWAY="cs-access-gateway",this.ONLINE_SESSION="cs-online-session",this.OFFLINE_SESSION="cs-offline-session",this.LOGIN_LOG="cs-login-log",this.STORAGE_LOG="cs-storage-log",this.JOB="cs-job",this.STORAGE="cs-storage",this.LOGIN_POLICY="cs-login-policy",this.ACCESS_SECURITY="cs-access-security",this.USER="cs-user",this.ROLE="cs-role",this.USER_GROUP="cs-user-group",this.COMMAND_FILTER="cs-command-filter",this.STRATEGY="cs-strategy"})));n.Z=u;var o=function(e){var n=(0,s.useState)(d(e)),t=(0,r.Z)(n,2),a=t[0],c=t[1];return[a,function(n){new Promise((function(e){c(n),e(n)})).then((function(n){l(e,n)}))}]},d=function(e){switch(e){case u.ASSET:case u.CREDENTIAL:case u.COMMAND:case u.ACCESS_GATEWAY:case u.ONLINE_SESSION:case u.OFFLINE_SESSION:}return f(e,{})},l=function(e,n){localStorage.setItem(e,JSON.stringify(n))},f=function(e,n){var t=localStorage.getItem(e);if(!i.Z.hasText(t))return n;try{return JSON.parse(t)}catch(r){return n}}},99925:function(e,n,t){var r=t(43144),a=t(15671),c=new((0,r.Z)((function e(){(0,a.Z)(this,e),this.hasText=function(e){return!(void 0===e||null===e||0===e.length)},this.zeroPad=function(e,n){for(var t=e.toString();t.length<n;)t="0"+t;return t}})));n.Z=c}}]);