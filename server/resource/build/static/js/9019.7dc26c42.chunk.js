"use strict";(self.webpackChunknext_terminal=self.webpackChunknext_terminal||[]).push([[9019],{58374:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(74165),a=t(15861),c=t(43144),u=t(15671),s=t(96675),i=t(74776),o=t.n(i),d=(0,c.Z)((function e(n){var t=this;(0,u.Z)(this,e),this.group="",this.getById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/".concat(t.group,"/").concat(n));case 2:if(1===(a=e.sent).code){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getPaging=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o().stringify(n),e.next=3,s.Z.get("/".concat(t.group,"/paging?").concat(a));case 3:if(1===(c=e.sent).code){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getAll=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/".concat(t.group));case 2:if(1===(n=e.sent).code){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)}))),this.create=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("/".concat(t.group),n);case 2:return a=e.sent,e.abrupt("return",1===a.code);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.updateById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.put("/".concat(t.group,"/").concat(n),a);case 2:return c=e.sent,e.abrupt("return",1===c.code);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.deleteById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.delete("/".concat(t.group,"/").concat(n));case 2:return a=e.sent,e.abrupt("return",1===a.code);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.group=n}))},23593:function(e,n,t){var r=t(74165),a=t(15861),c=t(43144),u=t(15671),s=t(60136),i=t(27277),o=t(58374),d=t(96675),l=function(e){(0,s.Z)(t,e);var n=(0,i.Z)(t);function t(){var e;return(0,u.Z)(this,t),(e=n.call(this,"commands")).changeOwner=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,a){var c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.Z.post("/".concat(e.group,"/").concat(t,"/change-owner?owner=").concat(a));case 2:return c=n.sent,n.abrupt("return",1===c.code);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e}return(0,c.Z)(t)}(o.Z),p=new l;n.Z=p},93426:function(e,n,t){var r=t(43144),a=t(15671),c=t(60136),u=t(27277),s=new(function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(){return(0,a.Z)(this,t),n.call(this,"worker/commands")}return(0,r.Z)(t)}(t(58374).Z));n.Z=s},66199:function(e,n,t){var r=t(1413),a=t(74165),c=t(15861),u=t(29439),s=t(47313),i=t(66672),o=t(12008),d=t(96296),l=t(23593),p=t(93426),f=t(46417),Z=l.Z,h=i.Z.TextArea;n.Z=function(e){var n=e.visible,t=e.handleOk,l=e.handleCancel,x=e.confirmLoading,v=e.id,m=e.worker,g=o.Z.useForm(),k=(0,u.Z)(g,1)[0];return(0,s.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==m){e.next=6;break}return e.next=3,p.Z.getById(v);case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,Z.getById(v);case 8:n=e.sent;case 9:n&&k.setFieldsValue(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n?v?e():k.setFieldsValue({}):k.resetFields()}),[n]),(0,f.jsx)(d.Z,{title:v?"\u66f4\u65b0\u52a8\u6001\u6307\u4ee4":"\u65b0\u5efa\u52a8\u6001\u6307\u4ee4",visible:n,maskClosable:!1,destroyOnClose:!0,onOk:function(){k.validateFields().then(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:e.sent&&k.resetFields();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},onCancel:function(){k.resetFields(),l()},confirmLoading:x,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,f.jsxs)(o.Z,(0,r.Z)((0,r.Z)({form:k},{labelCol:{span:6},wrapperCol:{span:14}}),{},{children:[(0,f.jsx)(o.Z.Item,{name:"id",noStyle:!0,children:(0,f.jsx)(i.Z,{hidden:!0})}),(0,f.jsx)(o.Z.Item,{label:"\u6307\u4ee4\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4\u540d\u79f0"}],children:(0,f.jsx)(i.Z,{placeholder:"\u8bf7\u8f93\u5165\u6307\u4ee4\u540d\u79f0"})}),(0,f.jsx)(o.Z.Item,{label:"\u6307\u4ee4\u5185\u5bb9",name:"content",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6307\u4ee4\u5185\u5bb9"}],children:(0,f.jsx)(h,{autoSize:{minRows:5,maxRows:10},placeholder:"\u4e00\u884c\u4e00\u4e2a\u6307\u4ee4"})})]}))})}},79019:function(e,n,t){t.r(n);var r=t(74165),a=t(15861),c=t(29439),u=t(47313),s=t(5900),i=t(59491),o=t(53469),d=t(66199),l=t(93426),p=t(46417),f=l.Z,Z=u.createRef();n.default=function(){var e=(0,u.useState)(!1),n=(0,c.Z)(e,2),t=n[0],l=n[1],h=(0,u.useState)(!1),x=(0,c.Z)(h,2),v=x[0],m=x[1],g=(0,u.useState)(void 0),k=(0,c.Z)(g,2),w=k[0],b=k[1],y=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u5185\u5bb9",dataIndex:"content",key:"content",copyable:!0,ellipsis:!0},{title:"\u521b\u5efa\u65f6\u95f4",key:"created",dataIndex:"created",hideInSearch:!0},{title:"\u64cd\u4f5c",valueType:"option",key:"option",render:function(e,n,t,c){return[(0,p.jsx)("a",{onClick:function(){l(!0),b(n.id)},children:"\u7f16\u8f91"},"edit"),(0,p.jsx)(s.Z,{title:"\u60a8\u786e\u8ba4\u8981\u5220\u9664\u6b64\u884c\u5417?",onConfirm:(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.deleteById(n.id);case 2:Z.current.reload();case 3:case"end":return e.stop()}}),e)}))),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",children:(0,p.jsx)("a",{className:"danger",children:"\u5220\u9664"},"delete")},"confirm-delete")]}}];return(0,p.jsxs)("div",{children:[(0,p.jsx)(o.Z,{columns:y,actionRef:Z,request:(0,a.Z)((0,r.Z)().mark((function e(){var n,t,a,c,u,s,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t=i.length>1?i[1]:void 0,i.length>2?i[2]:void 0,a="",c="",Object.keys(t).length>0&&(a=Object.keys(t)[0],c=Object.values(t)[0]),u={pageIndex:n.current,pageSize:n.pageSize,name:n.name,field:a,order:c},e.next=9,f.getPaging(u);case 9:return s=e.sent,e.abrupt("return",{data:s.items,success:!0,total:s.total});case 11:case"end":return e.stop()}}),e)}))),rowKey:"id",search:{labelWidth:"auto"},pagination:{defaultPageSize:10},dateFormatter:"string",headerTitle:"\u6307\u4ee4\u5217\u8868",toolBarRender:function(){return[(0,p.jsx)(i.Z,{type:"primary",onClick:function(){l(!0)},children:"\u65b0\u5efa"},"button")]}}),(0,p.jsx)(d.Z,{id:w,worker:!0,visible:t,confirmLoading:v,handleCancel:function(){l(!1),b(void 0)},handleOk:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),e.prev=1,!n.id){e.next=8;break}return e.next=5,f.updateById(n.id,n);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,f.create(n);case 10:t=e.sent;case 11:t&&l(!1),Z.current.reload();case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,,13,16]])})));return function(n){return e.apply(this,arguments)}}()})]})}}}]);