"use strict";(self.webpackChunknext_terminal=self.webpackChunknext_terminal||[]).push([[120],{90120:function(e,n,t){t.r(n);var i=t(29439),a=t(47313),r=t(2135),o=t(69567),s=t.n(o),c=t(34868),l=t(96216),u=t(74776),d=t.n(u),g=t(68086),f=t(46417);n.default=function(){var e=(0,r.lr)(),n=(0,i.Z)(e,2),t=n[0],o=(n[1],t.get("sessionId")),u=(0,a.useState)(""),h=(0,i.Z)(u,2),v=h[0],p=h[1],y=function(e){var n=e.getDisplay().getWidth(),t=e.getDisplay().getHeight(),i=window.innerWidth/n,a=window.innerHeight/t;console.log(i,a);var r=Math.min(i,a);r&&e.getDisplay().scale(r)},w=function(e){(console.log("onTunnelStateChange",e),e===s().Tunnel.State.CLOSED)&&(document.getElementById("display").innerHTML="",p("\u4f1a\u8bdd\u5df2\u5173\u95ed"))},m=function(e){var n=new(s().WebSocketTunnel)("".concat(c.tC,"/sessions/").concat(e,"/tunnel-monitor"));n.onstatechange=w;var t=new(s().Client)(n);t.onstatechange=function(e){!function(e,n){switch(e){case 0:p("\u6b63\u5728\u521d\u59cb\u5316\u4e2d...");break;case 1:p("\u6b63\u5728\u52aa\u529b\u8fde\u63a5\u4e2d...");break;case 2:p("\u6b63\u5728\u7b49\u5f85\u670d\u52a1\u5668\u54cd\u5e94...");break;case 3:p(""),y(n);break;case 4:p("\u4f1a\u8bdd\u5173\u95ed\u4e2d...");break;case 5:p("\u4f1a\u8bdd\u5df2\u5173\u95ed")}}(e,t)};var i=document.getElementById("display");i.innerHTML="";var a=t.getDisplay().getElement();i.appendChild(a);var r={"X-Auth-Token":(0,l.LP)()},o=d().stringify(r);return t.connect(o),t};return(0,a.useEffect)((function(){var e=m(o),n=(0,g.D)((function(){y(e)}));return e.getDisplay().onresize=n,window.addEventListener("resize",n),function(){e&&(e.disconnect(),e.getDisplay().getElement().innerHTML=""),window.removeEventListener("resize",n)}}),[o]),(0,f.jsxs)("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1b1b1b"},children:[(0,f.jsx)("div",{id:"tip",style:{color:"white",fontWeight:"bold"},children:v}),(0,f.jsx)("div",{id:"display"})]})}},68086:function(e,n,t){t.d(n,{D:function(){return i}});var i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,t=null;return function(){var i=arguments,a=this;t&&clearTimeout(t),t=setTimeout((function(){e.apply(a,i),t=null}),n)}}}}]);