"use strict";(self.webpackChunknext_terminal=self.webpackChunknext_terminal||[]).push([[3711],{58374:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(74165),a=n(15861),c=n(43144),u=n(15671),o=n(96675),s=n(74776),i=n.n(s),p=(0,c.Z)((function e(t){var n=this;(0,u.Z)(this,e),this.group="",this.getById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/".concat(n.group,"/").concat(t));case 2:if(1===(a=e.sent).code){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPaging=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i().stringify(t),e.next=3,o.Z.get("/".concat(n.group,"/paging?").concat(a));case 3:if(1===(c=e.sent).code){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAll=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/".concat(n.group));case 2:if(1===(t=e.sent).code){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)}))),this.create=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("/".concat(n.group),t);case 2:return a=e.sent,e.abrupt("return",1===a.code);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,a){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("/".concat(n.group,"/").concat(t),a);case 2:return c=e.sent,e.abrupt("return",1===c.code);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.deleteById=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.delete("/".concat(n.group,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",1===a.code);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.group=t}))},66530:function(e,t,n){var r=n(74165),a=n(15861),c=n(43144),u=n(15671),o=n(60136),s=n(27277),i=n(58374),p=n(96675),d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.call(this,"assets")).GetAll=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,c=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",t.next=3,p.Z.get("/".concat(e.group,"?protocol=").concat(n));case 3:if(1===(a=t.sent).code){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)}))),e.connTest=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.Z.post("/".concat(e.group,"/").concat(n,"/tcping"));case 2:if(1===(a=t.sent).code){t.next=5;break}return t.abrupt("return",[!1,a.message]);case 5:return t.abrupt("return",[a.data.active,a.data.message]);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.importAsset=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("file",n),t.next=4,p.Z.post("/".concat(e.group,"/import"),a,{"Content-Type":"multipart/form-data"});case 4:if(1===(c=t.sent).code){t.next=7;break}return t.abrupt("return",[!1,c.message]);case 7:return t.abrupt("return",[!0,c.data]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeOwner=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a){var c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.Z.post("/".concat(e.group,"/").concat(n,"/change-owner?owner=").concat(a));case 2:return c=t.sent,t.abrupt("return",1===c.code);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return(0,c.Z)(n)}(i.Z),l=new d;t.Z=l},9388:function(e,t,n){n.d(t,{f:function(){return r}});var r={rdp:"cyan",ssh:"blue",telnet:"geekblue",vnc:"purple",kubernetes:"volcano"}},3711:function(e,t,n){n.r(t);var r=n(74165),a=n(15861),c=n(29439),u=n(47313),o=n(81572),s=n(15508),i=n(57325),p=n(66204),d=n(41068),l=n(46155),f=n(23813),h=n(45705),Z=n(53469),x=n(9388),g=n(66530),v=n(96216),b=n(10658),m=n.n(b),w=n(46417),k=o.Z.Title,j=s.Z.Content,y=u.createRef();t.default=function(){var e=(0,u.useState)([]),t=(0,c.Z)(e,2),n=t[0],o=t[1],s=[{title:"\u8d44\u4ea7\u540d\u79f0",dataIndex:"name",key:"name",render:function(e,t){var n=e;return n&&n.length>20&&(n=n.substring(0,20)+" ..."),(0,w.jsx)(i.Z,{placement:"topLeft",title:e,children:n})}},{title:"\u8fde\u63a5\u534f\u8bae",dataIndex:"protocol",key:"protocol",render:function(e,t){var n="".concat(t.ip+":"+t.port);return(0,w.jsx)(i.Z,{title:n,children:(0,w.jsx)(p.Z,{color:x.f[e],children:e})})}},{title:"\u6807\u7b7e",dataIndex:"tags",key:"tags",render:function(e){if(!(0,v.xb)(e)){for(var t=[],n=e.split(","),r=0;r<n.length;r++)"-"!==e[r]&&t.push((0,w.jsx)(p.Z,{children:n[r]}));return t}}},{title:"\u72b6\u6001",dataIndex:"active",key:"active",render:function(e){return e?(0,w.jsx)(i.Z,{title:"\u8fd0\u884c\u4e2d",children:(0,w.jsx)(d.Z,{status:"processing",text:"\u8fd0\u884c\u4e2d"})}):(0,w.jsx)(i.Z,{title:"\u4e0d\u53ef\u7528",children:(0,w.jsx)(d.Z,{status:"error",text:"\u4e0d\u53ef\u7528"})})}},{title:"\u6240\u6709\u8005",dataIndex:"ownerName",key:"ownerName"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created",key:"created",render:function(e,t){return(0,w.jsx)(i.Z,{title:e,children:m()(e).fromNow()})}}];return(0,w.jsxs)(j,{className:"page-container",children:[(0,w.jsxs)("div",{style:{paddingLeft:24,paddingRight:24},children:[(0,w.jsx)(k,{level:5,children:"\u5f85\u6267\u884c\u8d44\u4ea7\u5217\u8868"}),(0,w.jsx)("div",{children:n.map((function(e){return(0,w.jsx)(p.Z,{color:x.f[e.protocol],closable:!0,onClose:function(){return function(e){var t=n.filter((function(t){return t.id!==e}));o(t.slice())}(e.id)},children:e.name},e.id)}))}),(0,w.jsx)(l.Z,{})]}),(0,w.jsx)(Z.Z,{columns:s,actionRef:y,rowSelection:{selections:[f.Z.SELECTION_ALL,f.Z.SELECTION_INVERT]},tableAlertRender:function(e){var t=e.selectedRowKeys,r=e.selectedRows;e.onCleanSelected;return(0,w.jsxs)(h.Z,{size:24,children:[(0,w.jsxs)("span",{children:["\u5df2\u9009 ",t.length," \u9879"]}),(0,w.jsx)("span",{children:(0,w.jsx)("a",{onClick:function(){return function(e){e.forEach((function(e){!1===n.some((function(t){return t.id===e.id}))&&n.push(e)})),o(n.slice())}(r)},children:"\u52a0\u5165\u5f85\u6267\u884c\u5217\u8868"})}),(0,w.jsx)("span",{children:(0,w.jsx)("a",{onClick:function(){return function(e){e.forEach((function(e){n=n.filter((function(t){return t.id!==e.id}))})),o(n.slice())}(r)},children:"\u4ece\u5f85\u6267\u884c\u5217\u8868\u79fb\u9664"})})]})},request:(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,c,u,o,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1?s[1]:void 0,s.length>2?s[2]:void 0,a="",c="",Object.keys(n).length>0&&(a=Object.keys(n)[0],c=Object.values(n)[0]),u={pageIndex:t.current,pageSize:t.pageSize,name:t.name,protocol:"ssh",field:a,order:c},e.next=9,g.Z.getPaging(u);case 9:return o=e.sent,e.abrupt("return",{data:o.items,success:!0,total:o.total});case 11:case"end":return e.stop()}}),e)}))),rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:5},dateFormatter:"string",headerTitle:"\u8d44\u4ea7\u5217\u8868"})]})}}}]);